/*!
 * ScrollToPlugin 3.9.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let e,t,l,o,s,r,n,i=()=>"undefined"!=typeof window,p=()=>e||i()&&(e=window.gsap)&&e.registerPlugin&&e,a=e=>"string"==typeof e,c=e=>"function"==typeof e,y=(e,t)=>{let r="x"===t?"Width":"Height",n="scroll"+r,i="client"+r;return e===l||e===o||e===s?Math.max(o[n],s[n])-(l["inner"+r]||o[i]||s[i]):e[n]-e["offset"+r]},f=(e,t)=>{let r="scroll"+("x"===t?"Left":"Top");return e===l&&(null!=e.pageXOffset?r="page"+t.toUpperCase()+"Offset":e=null!=o[r]?o:s),()=>e[r]},u=(e,t)=>{if(!(e=r(e)[0])||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};let n=e.getBoundingClientRect(),i=!t||t===l||t===s,p=i?{top:o.clientTop-(l.pageYOffset||o.scrollTop||s.scrollTop||0),left:o.clientLeft-(l.pageXOffset||o.scrollLeft||s.scrollLeft||0)}:t.getBoundingClientRect(),a={x:n.left-p.left,y:n.top-p.top};return!i&&t&&(a.x+=f(t,"x")(),a.y+=f(t,"y")()),a},x=(e,t,l,o,s)=>isNaN(e)||"object"==typeof e?a(e)&&"="===e.charAt(1)?parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+o-s:"max"===e?y(t,l)-s:Math.min(y(t,l),u(e,t)[l]-s):parseFloat(e)-s,g=()=>{e=p(),i()&&e&&document.body&&(l=window,s=document.body,o=document.documentElement,r=e.utils.toArray,e.config({autoKillThreshold:7}),n=e.config(),t=1)};const d={version:"3.9.0",name:"scrollTo",rawVars:1,register(t){e=t,g()},init(o,s,r,n,i){t||g();let p=this,y=e.getProperty(o,"scrollSnapType");p.isWin=o===l,p.target=o,p.tween=r,s=((e,t,l,o)=>{if(c(e)&&(e=e(t,l,o)),"object"!=typeof e)return a(e)&&"max"!==e&&"="!==e.charAt(1)?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};{let s,r={};for(s in e)r[s]="onAutoKill"!==s&&c(e[s])?e[s](t,l,o):e[s];return r}})(s,n,o,i),p.vars=s,p.autoKill=!!s.autoKill,p.getX=f(o,"x"),p.getY=f(o,"y"),p.x=p.xPrev=p.getX(),p.y=p.yPrev=p.getY(),y&&"none"!==y&&(p.snap=1,p.snapInline=o.style.scrollSnapType,o.style.scrollSnapType="none"),null!=s.x?(p.add(p,"x",p.x,x(s.x,o,"x",p.x,s.offsetX||0),n,i),p._props.push("scrollTo_x")):p.skipX=1,null!=s.y?(p.add(p,"y",p.y,x(s.y,o,"y",p.y,s.offsetY||0),n,i),p._props.push("scrollTo_y")):p.skipY=1},render(e,t){let o,s,r,i,p,a=t._pt,{target:c,tween:f,autoKill:u,xPrev:x,yPrev:g,isWin:d,snap:T,snapInline:k}=t;for(;a;)a.r(e,a.d),a=a._next;o=d||!t.skipX?t.getX():x,s=d||!t.skipY?t.getY():g,r=s-g,i=o-x,p=n.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),u&&(!t.skipX&&(i>p||i<-p)&&o<y(c,"x")&&(t.skipX=1),!t.skipY&&(r>p||r<-p)&&s<y(c,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(f.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(f,t.vars.onAutoKillParams||[]))),d?l.scrollTo(t.skipX?o:t.x,t.skipY?s:t.y):(t.skipY||(c.scrollTop=t.y),t.skipX||(c.scrollLeft=t.x)),!T||1!==e&&0!==e||(s=c.scrollTop,o=c.scrollLeft,k?c.style.scrollSnapType=k:c.style.removeProperty("scroll-snap-type"),c.scrollTop=s+1,c.scrollLeft=o+1,c.scrollTop=s,c.scrollLeft=o),t.xPrev=t.x,t.yPrev=t.y},kill(e){let t="scrollTo"===e;(t||"scrollTo_x"===e)&&(this.skipX=1),(t||"scrollTo_y"===e)&&(this.skipY=1)}};d.max=y,d.getOffset=u,d.buildGetter=f,p()&&e.registerPlugin(d);export default d;export{d as ScrollToPlugin};
