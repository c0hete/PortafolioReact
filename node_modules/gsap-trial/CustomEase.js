/*!
 * CustomEase 3.9.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let e=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,t=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,n=Math.PI/180,s=Math.sin,i=Math.cos,o=Math.abs,r=Math.sqrt,l=e=>Math.round(1e5*e)/1e5||0;function a(e,t,l,a,h,c,g,f,u){if(e===f&&t===u)return;l=o(l),a=o(a);let d=h%360*n,x=i(d),p=s(d),y=Math.PI,w=2*y,M=(e-f)/2,m=(t-u)/2,C=x*M+p*m,b=-p*M+x*m,E=C*C,N=b*b,O=E/(l*l)+N/(a*a);O>1&&(l=r(O)*l,a=r(O)*a);let P=l*l,S=a*a,v=(P*S-P*N-S*E)/(P*N+S*E);v<0&&(v=0);let A=(c===g?-1:1)*r(v),D=A*(l*b/a),L=A*(-a*C/l),V=(e+f)/2+(x*D-p*L),T=(t+u)/2+(p*D+x*L),_=(C-D)/l,q=(b-L)/a,G=(-C-D)/l,I=(-b-L)/a,R=_*_+q*q,W=(q<0?-1:1)*Math.acos(_/r(R)),j=(_*I-q*G<0?-1:1)*Math.acos((_*G+q*I)/r(R*(G*G+I*I)));isNaN(j)&&(j=y),!g&&j>0?j-=w:g&&j<0&&(j+=w),W%=w,j%=w;let z,H=Math.ceil(o(j)/(w/4)),Q=[],Z=j/H,U=4/3*s(Z/2)/(1+i(Z/2)),Y=x*l,k=p*l,B=p*-a,F=x*a;for(z=0;z<H;z++)C=i(h=W+z*Z),b=s(h),_=i(h+=Z),q=s(h),Q.push(C-U*b,b+U*C,_+U*q,q-U*_,_,q);for(z=0;z<Q.length;z+=2)C=Q[z],b=Q[z+1],Q[z]=C*Y+b*B+V,Q[z+1]=C*k+b*F+T;return Q[z-2]=f,Q[z-1]=u,Q}let h,c,g=()=>h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h,f=()=>{h=g(),h?(h.registerEase("_CE",m.create),c=1):console.warn("Please gsap.registerPlugin(CustomEase)")},u=e=>~~(1e3*e+(e<0?-.5:.5))/1e3,d=function(){return String.fromCharCode.apply(null,arguments)},x=d(103,114,101,101,110,115,111,99,107,46,99,111,109),p=function(e){var t="undefined"!=typeof window,n=0===(t?window.location.href:"").indexOf(d(102,105,108,101,58,47,47))||-1!==e.indexOf(d(108,111,99,97,108,104,111,115,116))||-1!==e.indexOf(d(49,50,55,46,48,32,48,46,49)),s=[x,d(99,111,100,101,112,101,110,46,105,111),d(99,111,100,101,112,101,110,46,112,108,117,109,98,105,110,103),d(99,111,100,101,112,101,110,46,100,101,118),d(99,111,100,101,112,101,110,46,97,112,112),d(99,111,100,101,112,101,110,46,119,101,98,115,105,116,101),d(112,101,110,115,46,99,108,111,117,100),d(99,115,115,45,116,114,105,99,107,115,46,99,111,109),d(99,100,112,110,46,105,111),d(112,101,110,115,46,105,111),d(103,97,110,110,111,110,46,116,118),d(99,111,100,101,99,97,110,121,111,110,46,110,101,116),d(116,104,101,109,101,102,111,114,101,115,116,46,110,101,116),d(99,101,114,101,98,114,97,120,46,99,111,46,117,107),d(116,121,109,112,97,110,117,115,46,110,101,116),d(116,119,101,101,110,109,97,120,46,99,111,109),d(116,119,101,101,110,108,105,116,101,46,99,111,109),d(112,108,110,107,114,46,99,111),d(104,111,116,106,97,114,46,99,111,109),d(119,101,98,112,97,99,107,98,105,110,46,99,111,109),d(97,114,99,104,105,118,101,46,111,114,103),d(99,111,100,101,115,97,110,100,98,111,120,46,105,111),d(99,115,98,46,97,112,112),d(115,116,97,99,107,98,108,105,116,122,46,99,111,109),d(115,116,97,99,107,98,108,105,116,122,46,105,111),d(99,111,100,105,101,114,46,105,111),d(109,111,116,105,111,110,116,114,105,99,107,115,46,99,111,109),d(115,116,97,99,107,111,118,101,114,102,108,111,119,46,99,111,109),d(115,116,97,99,107,101,120,99,104,97,110,103,101,46,99,111,109),d(106,115,102,105,100,100,108,101,46,110,101,116)],i=s.length;for(setTimeout((function(){t&&window.console&&!window._gsapWarned&&"object"==typeof h&&!1!==h.config().trialWarn&&(console.log(d(37,99,87,97,114,110,105,110,103),d(102,111,110,116,45,115,105,122,101,58,51,48,112,120,59,99,111,108,111,114,58,114,101,100,59)),console.log(d(65,32,116,114,105,97,108,32,118,101,114,115,105,111,110,32,111,102,32)+"CustomEase"+d(32,105,115,32,108,111,97,100,101,100,32,116,104,97,116,32,111,110,108,121,32,119,111,114,107,115,32,108,111,99,97,108,108,121,32,97,110,100,32,111,110,32,100,111,109,97,105,110,115,32,108,105,107,101,32,99,111,100,101,112,101,110,46,105,111,32,97,110,100,32,99,111,100,101,115,97,110,100,98,111,120,46,105,111,46,32,42,42,42,32,68,79,32,78,79,84,32,68,69,80,76,79,89,32,84,72,73,83,32,70,73,76,69,32,42,42,42,32,76,111,97,100,105,110,103,32,105,116,32,111,110,32,97,110,32,117,110,97,117,116,104,111,114,105,122,101,100,32,115,105,116,101,32,118,105,111,108,97,116,101,115,32,116,104,101,32,108,105,99,101,110,115,101,32,97,110,100,32,119,105,108,108,32,99,97,117,115,101,32,97,32,114,101,100,105,114,101,99,116,46,32,80,108,101,97,115,101,32,106,111,105,110,32,67,108,117,98,32,71,114,101,101,110,83,111,99,107,32,116,111,32,103,101,116,32,102,117,108,108,32,97,99,99,101,115,115,32,116,111,32,116,104,101,32,98,111,110,117,115,32,112,108,117,103,105,110,115,32,116,104,97,116,32,98,111,111,115,116,32,121,111,117,114,32,97,110,105,109,97,116,105,111,110,32,115,117,112,101,114,112,111,119,101,114,115,46,32,68,105,115,97,98,108,101,32,116,104,105,115,32,119,97,114,110,105,110,103,32,119,105,116,104,32,103,115,97,112,46,99,111,110,102,105,103,40,123,116,114,105,97,108,87,97,114,110,58,32,102,97,108,115,101,125,41,59)),console.log(d(37,99,71,101,116,32,117,110,114,101,115,116,114,105,99,116,101,100,32,102,105,108,101,115,32,97,116,32,104,116,116,112,115,58,47,47,103,114,101,101,110,115,111,99,107,46,99,111,109,47,99,108,117,98),d(102,111,110,116,45,115,105,122,101,58,49,54,112,120,59,99,111,108,111,114,58,35,52,101,57,56,49,53)),window._gsapWarned=1)}),50);--i>-1;)if(-1!==e.indexOf(s[i]))return!0;return n||!setTimeout((function(){t&&(window.location.href=d(104,116,116,112,115,58,47,47)+x+d(47,114,101,113,117,105,114,101,115,45,109,101,109,98,101,114,115,104,105,112,47)+"?plugin=CustomEase&source=trial")}),3e3)}("undefined"!=typeof window?window.location.host:""),y=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,w=/[cLlsSaAhHvVtTqQ]/g,M=function(e,t,n,s,i,o,r,l,a,h,c){let g,f=(e+n)/2,u=(t+s)/2,d=(n+i)/2,x=(s+o)/2,p=(i+r)/2,y=(o+l)/2,w=(f+d)/2,m=(u+x)/2,C=(d+p)/2,b=(x+y)/2,E=(w+C)/2,N=(m+b)/2,O=r-e,P=l-t,S=Math.abs((n-r)*P-(s-l)*O),v=Math.abs((i-r)*P-(o-l)*O);return h||(h=[{x:e,y:t},{x:r,y:l}],c=1),h.splice(c||h.length-1,0,{x:E,y:N}),(S+v)*(S+v)>a*(O*O+P*P)&&(g=h.length,M(e,t,f,u,w,m,E,N,a,h,c),M(E,N,C,b,p,y,r,l,a,h,c+1+(h.length-g))),h};class m{constructor(e,t,n){c||f(),this.id=e,p&&this.setData(t,n)}setData(n,s){s=s||{};let i,r,l,c,g,f,u,d,x,p=(n=n||"0,0,1,1").match(y),m=1,C=[],b=[],E=s.precision||1,N=E<=1;if(this.data=n,(w.test(n)||~n.indexOf("M")&&n.indexOf("C")<0)&&(p=function(n){let s,i,r,l,h,c,g,f,u,d,x,p,y,w,M,m=(n+"").replace(t,e=>{let t=+e;return t<1e-4&&t>-1e-4?0:t}).match(e)||[],C=[],b=0,E=0,N=m.length,O=0,P="ERROR: malformed path: "+n,S=function(e,t,n,s){d=(n-e)/3,x=(s-t)/3,g.push(e+d,t+x,n-d,s-x,n,s)};if(!n||!isNaN(m[0])||isNaN(m[1]))return console.log(P),C;for(s=0;s<N;s++)if(y=h,isNaN(m[s])?(h=m[s].toUpperCase(),c=h!==m[s]):s--,r=+m[s+1],l=+m[s+2],c&&(r+=b,l+=E),s||(f=r,u=l),"M"===h)g&&(g.length<8?C.length-=1:O+=g.length),b=f=r,E=u=l,g=[r,l],C.push(g),s+=2,h="L";else if("C"===h)g||(g=[0,0]),c||(b=E=0),g.push(r,l,b+1*m[s+3],E+1*m[s+4],b+=1*m[s+5],E+=1*m[s+6]),s+=6;else if("S"===h)d=b,x=E,"C"!==y&&"S"!==y||(d+=b-g[g.length-4],x+=E-g[g.length-3]),c||(b=E=0),g.push(d,x,r,l,b+=1*m[s+3],E+=1*m[s+4]),s+=4;else if("Q"===h)d=b+2/3*(r-b),x=E+2/3*(l-E),c||(b=E=0),b+=1*m[s+3],E+=1*m[s+4],g.push(d,x,b+2/3*(r-b),E+2/3*(l-E),b,E),s+=4;else if("T"===h)d=b-g[g.length-4],x=E-g[g.length-3],g.push(b+d,E+x,r+2/3*(b+1.5*d-r),l+2/3*(E+1.5*x-l),b=r,E=l),s+=2;else if("H"===h)S(b,E,b=r,E),s+=1;else if("V"===h)S(b,E,b,E=r+(c?E-b:0)),s+=1;else if("L"===h||"Z"===h)"Z"===h&&(r=f,l=u,g.closed=!0),("L"===h||o(b-r)>.5||o(E-l)>.5)&&(S(b,E,r,l),"L"===h&&(s+=2)),b=r,E=l;else if("A"===h){if(w=m[s+4],M=m[s+5],d=m[s+6],x=m[s+7],i=7,w.length>1&&(w.length<3?(x=d,d=M,i--):(x=M,d=w.substr(2),i-=2),M=w.charAt(1),w=w.charAt(0)),p=a(b,E,+m[s+1],+m[s+2],+m[s+3],+w,+M,(c?b:0)+1*d,(c?E:0)+1*x),s+=i,p)for(i=0;i<p.length;i++)g.push(p[i]);b=g[g.length-2],E=g[g.length-1]}else console.log(P);return s=g.length,s<6?(C.pop(),s=0):g[0]===g[s-2]&&g[1]===g[s-1]&&(g.closed=!0),C.totalPoints=O+s,C}(n)[0]),i=p.length,4===i)p.unshift(0,0),p.push(1,1),i=8;else if((i-2)%6)throw"Invalid CustomEase";for(0==+p[0]&&1==+p[i-2]||((e,t,n)=>{n||0===n||(n=Math.max(+e[e.length-1],+e[1]));let s,i=-1*+e[0],o=-n,r=e.length,l=1/(+e[r-2]+i),a=-t||(Math.abs(+e[r-1]-+e[1])<.01*(+e[r-2]-+e[0])?(e=>{let t,n=e.length,s=1e20;for(t=1;t<n;t+=6)+e[t]<s&&(s=+e[t]);return s})(e)+o:+e[r-1]+o);for(a=a?1/a:-l,s=0;s<r;s+=2)e[s]=(+e[s]+i)*l,e[s+1]=(+e[s+1]+o)*a})(p,s.height,s.originY),this.segment=p,c=2;c<i;c+=6)r={x:+p[c-2],y:+p[c-1]},l={x:+p[c+4],y:+p[c+5]},C.push(r,l),M(r.x,r.y,+p[c],+p[c+1],+p[c+2],+p[c+3],l.x,l.y,1/(2e5*E),C,C.length-1);for(i=C.length,c=0;c<i;c++)u=C[c],d=C[c-1]||u,(u.x>d.x||d.y!==u.y&&d.x===u.x||u===d)&&u.x<=1?(d.cx=u.x-d.x,d.cy=u.y-d.y,d.n=u,d.nx=u.x,N&&c>1&&Math.abs(d.cy/d.cx-C[c-2].cy/C[c-2].cx)>2&&(N=0),d.cx<m&&(d.cx?m=d.cx:(d.cx=.001,c===i-1&&(d.x-=.001,m=Math.min(m,.001),N=0)))):(C.splice(c--,1),i--);if(i=1/m+1|0,g=1/i,f=0,u=C[0],N){for(c=0;c<i;c++)x=c*g,u.nx<x&&(u=C[++f]),r=u.y+(x-u.x)/u.cx*u.cy,b[c]={x:x,cx:g,y:r,cy:0,nx:9},c&&(b[c-1].cy=r-b[c-1].y);b[i-1].cy=C[C.length-1].y-r}else{for(c=0;c<i;c++)u.nx<c*g&&(u=C[++f]),b[c]=u;f<C.length-1&&(b[c-1]=C[C.length-2])}return this.ease=e=>{let t=b[e*i|0]||b[i-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},this.ease.custom=this,this.id&&h&&h.registerEase(this.id,this.ease),this}getSVGData(e){return m.getSVGData(this,e)}static create(e,t,n){return new m(e,t,n).ease}static register(e){h=e,f()}static get(e){return h.parseEase(e)}static getSVGData(e,t){let n,s,i,o,r,a,c,g,f,d,x=(t=t||{}).width||100,p=t.height||100,y=t.x||0,w=(t.y||0)+p,M=h.utils.toArray(t.path)[0];if(t.invert&&(p=-p,w=0),"string"==typeof e&&(e=h.parseEase(e)),e.custom&&(e=e.custom),e instanceof m)n=function(e){"number"==typeof e[0]&&(e=[e]);let t,n,s,i,o="",r=e.length;for(n=0;n<r;n++){for(i=e[n],o+="M"+l(i[0])+","+l(i[1])+" C",t=i.length,s=2;s<t;s++)o+=l(i[s++])+","+l(i[s++])+" "+l(i[s++])+","+l(i[s++])+" "+l(i[s++])+","+l(i[s])+" ";i.closed&&(o+="z")}return o}(function(e,t,n,s,i,o,r){let l,a,h,c,g,f=e.length;for(;--f>-1;)for(l=e[f],a=l.length,h=0;h<a;h+=2)c=l[h],g=l[h+1],l[h]=c*t+g*s+o,l[h+1]=c*n+g*i+r;return e._dirty=1,e}([e.segment],x,0,0,-p,y,w));else{for(n=[y,w],c=Math.max(5,200*(t.precision||1)),o=1/c,c+=2,g=5/c,f=u(y+o*x),d=u(w+e(o)*-p),s=(d-w)/(f-y),i=2;i<c;i++)r=u(y+i*o*x),a=u(w+e(i*o)*-p),(Math.abs((a-d)/(r-f)-s)>g||i===c-1)&&(n.push(f,d),s=(a-d)/(r-f)),f=r,d=a;n="M"+n.join(",")}return M&&M.setAttribute("d",n),n}}g()&&h.registerPlugin(m),m.version="3.9.0";export default m;export{m as CustomEase};
