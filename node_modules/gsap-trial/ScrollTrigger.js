/*!
 * ScrollTrigger 3.9.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let e,t,r,i,n,s,o,l,a,d,p,c,f,h,g,u,m,x,b,v,y,w,S,T,k,C,O=1,E=[],M=[],P=Date.now,R=P(),_=0,A=1,B=e=>e,L=t=>a(t)[0]||(U(t)&&!1!==e.config().nullTargetWarn?console.warn("Element not found:",t):null),I=e=>Math.round(1e5*e)/1e5||0,z=()=>"undefined"!=typeof window,N=()=>e||z()&&(e=window.gsap)&&e.registerPlugin&&e,W=e=>!!~o.indexOf(e),D=(e,t)=>~E.indexOf(e)&&E[E.indexOf(e)+1][t],F=(e,{s:t,sc:r})=>{let i=M.indexOf(e),n=r===re.sc?1:2;return!~i&&(i=M.push(e)-1),M[i+n]||(M[i+n]=D(e,t)||(W(e)?r:function(r){return arguments.length?e[t]=r:e[t]}))},H=e=>D(e,"getBoundingClientRect")||(W(e)?()=>(qe.width=r.innerWidth,qe.height=r.innerHeight,qe):()=>se(e)),V=(e,{s:t,d2:i,d:o,a:l})=>(t="scroll"+i)&&(l=D(e,t))?l()-H(e)()[o]:W(e)?(s[t]||n[t])-(r["inner"+i]||n["client"+i]||s["client"+i]):e[t]-e["offset"+i],q=(e,t)=>{for(let r=0;r<b.length;r+=3)(!t||~t.indexOf(b[r+1]))&&e(b[r],b[r+1],b[r+2])},U=e=>"string"==typeof e,X=e=>"function"==typeof e,Y=e=>"number"==typeof e,j=e=>"object"==typeof e,Z=e=>X(e)&&e(),$=(e,t)=>()=>{let r=Z(e),i=Z(t);return()=>{Z(r),Z(i)}},G=(e,t,r)=>e&&e.progress(t?0:1)&&r&&e.pause(),J=(e,t)=>{if(e.enabled){let r=t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},K=Math.abs,Q="padding",ee="px",te={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:function(e){return arguments.length?r.scrollTo(e,re.sc()):r.pageXOffset||i.scrollLeft||n.scrollLeft||s.scrollLeft||0}},re={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:te,sc:function(e){return arguments.length?r.scrollTo(te.sc(),e):r.pageYOffset||i.scrollTop||n.scrollTop||s.scrollTop||0}},ie=e=>r.getComputedStyle(e),ne=(e,t)=>{for(let r in t)r in e||(e[r]=t[r]);return e},se=(t,r)=>{let i=r&&"matrix(1, 0, 0, 1, 0, 0)"!==ie(t)[g]&&e.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},oe=(e,{d2:t})=>e["offset"+t]||e["client"+t]||0,le=e=>{let t,r=[],i=e.labels,n=e.duration();for(t in i)r.push(i[t]/n);return r},ae=t=>{let r=e.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort((e,t)=>e-t);return i?(e,t,n=.001)=>{let s;if(!t)return r(e);if(t>0){for(e-=n,s=0;s<i.length;s++)if(i[s]>=e)return i[s];return i[s-1]}for(s=i.length,e+=n;s--;)if(i[s]<=e)return i[s];return i[0]}:(e,i,n=.001)=>{let s=r(e);return!i||Math.abs(s-e)<n||s-e<0==i<0?s:r(i<0?e-t:e+t)}},de=(e,t,r,i)=>r.split(",").forEach(r=>e(t,r,i)),pe=(e,t,r)=>e.addEventListener(t,r,{passive:!0}),ce=(e,t,r)=>e.removeEventListener(t,r),fe={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},he={toggleActions:"play",anticipatePin:0},ge={top:0,left:0,center:.5,bottom:1,right:1},ue=(e,t)=>{if(U(e)){let r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in ge?ge[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},me=(e,t,r,n,{startColor:o,endColor:l,fontSize:a,indent:d,fontWeight:p},c,f,h)=>{let g=i.createElement("div"),u=W(r)||"fixed"===D(r,"pinType"),m=-1!==e.indexOf("scroller"),x=u?s:r,b=-1!==e.indexOf("start"),v=b?o:l,y="border-color:"+v+";font-size:"+a+";color:"+v+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((m||h)&&u?"fixed;":"absolute;"),(m||h||!u)&&(y+=(n===re?"right":"bottom")+":"+(c+parseFloat(d))+"px;"),f&&(y+="box-sizing:border-box;text-align:left;width:"+f.offsetWidth+"px;"),g._isStart=b,g.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),g.style.cssText=y,g.innerText=t||0===t?e+"-"+t:e,x.children[0]?x.insertBefore(g,x.children[0]):x.appendChild(g),g._offset=g["offset"+n.op.d2],xe(g,0,n,b),g},xe=(t,r,i,n)=>{let s={display:"block"},o=i[n?"os2":"p2"],l=i[n?"p2":"os2"];t._isFlipped=n,s[i.a+"Percent"]=n?-100:0,s[i.a]=n?"1px":0,s["border"+o+"Width"]=1,s["border"+l+"Width"]=0,s[i.p]=r+"px",e.set(t,s)},be=[],ve={},ye=()=>P()-_>34&&ze(),we=()=>{ze(),_||Me("scrollStart"),_=P()},Se=()=>!f&&!w&&!i.fullscreenElement&&l.restart(!0),Te={},ke=[],Ce=[],Oe=i=>{let n,s=e.ticker.frame,o=[],l=0;if(k!==s||O){for(_e();l<Ce.length;l+=4)n=r.matchMedia(Ce[l]).matches,n!==Ce[l+3]&&(Ce[l+3]=n,n?o.push(l):_e(1,Ce[l])||X(Ce[l+2])&&Ce[l+2]());for(Re(),l=0;l<o.length;l++)n=o[l],T=Ce[n],Ce[n+2]=Ce[n+1](i);T=0,t&&Be(0,1),k=s,Me("matchMedia")}},Ee=()=>ce(Ze,"scrollEnd",Ee)||Be(!0),Me=e=>Te[e]&&Te[e].map(e=>e())||ke,Pe=[],Re=e=>{for(let t=0;t<Pe.length;t+=5)e&&Pe[t+4]!==e||(Pe[t].style.cssText=Pe[t+1],Pe[t].getBBox&&Pe[t].setAttribute("transform",Pe[t+2]||""),Pe[t+3].uncache=1)},_e=(e,t)=>{let r;for(u=0;u<be.length;u++)r=be[u],t&&r.media!==t||(e?r.kill(1):r.revert());t&&Re(t),t||Me("revert")},Ae=()=>M.forEach(e=>"function"==typeof e&&(e.rec=0)),Be=(e,t)=>{if(_&&!e)return void pe(Ze,"scrollEnd",Ee);C=!0;let r=Me("refreshInit");v&&Ze.sort(),t||_e(),be.forEach(e=>e.refresh()),be.forEach(e=>"max"===e.vars.end&&e.setPositions(e.start,V(e.scroller,e._dir))),r.forEach(e=>e&&e.render&&e.render(-1)),Ae(),l.pause(),C=!1,Me("refresh")},Le=0,Ie=1,ze=()=>{if(!C){let e=be.length,t=P(),r=t-R>=50,i=e&&be[0].scroll();if(Ie=Le>i?-1:1,Le=i,r&&(_&&!h&&t-_>200&&(_=0,Me("scrollEnd")),p=R,R=t),Ie<0){for(u=e;u-- >0;)be[u]&&be[u].update(0,r);Ie=1}else for(u=0;u<e;u++)be[u]&&be[u].update(0,r)}},Ne=["left","top","bottom","right","marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],We=Ne.concat(["width","height","boxSizing","maxWidth","maxHeight","position","margin",Q,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),De=(e,t,r,i)=>{if(e.parentNode!==t){let n,s=Ne.length,o=t.style,l=e.style;for(;s--;)n=Ne[s],o[n]=r[n];o.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(o.display="inline-block"),l.bottom=l.right=o.flexBasis="auto",o.overflow="visible",o.boxSizing="border-box",o.width=oe(e,te)+ee,o.height=oe(e,re)+ee,o.padding=l.margin=l.top=l.left="0",He(i),l.width=l.maxWidth=r.width,l.height=l.maxHeight=r.height,l.padding=r.padding,e.parentNode.insertBefore(t,e),t.appendChild(e)}},Fe=/([A-Z])/g,He=t=>{if(t){let r,i,n=t.t.style,s=t.length,o=0;for((t.t._gsap||e.core.getCache(t.t)).uncache=1;o<s;o+=2)i=t[o+1],r=t[o],i?n[r]=i:n[r]&&n.removeProperty(r.replace(Fe,"-$1").toLowerCase())}},Ve=e=>{let t=We.length,r=e.style,i=[],n=0;for(;n<t;n++)i.push(We[n],r[We[n]]);return i.t=e,i},qe={left:0,top:0},Ue=(e,t,r,i,o,l,a,d,p,c,f,h,g)=>{X(e)&&(e=e(d)),U(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?ue("0"+e.substr(3),r):0));let u,m,x,b=g?g.time():0;if(g&&g.seek(0),Y(e))a&&xe(a,r,i,!0);else{X(t)&&(t=t(d));let n,l,f,h,g=e.split(" ");x=L(t)||s,n=se(x)||{},n&&(n.left||n.top)||"none"!==ie(x).display||(h=x.style.display,x.style.display="block",n=se(x),h?x.style.display=h:x.style.removeProperty("display")),l=ue(g[0],n[i.d]),f=ue(g[1]||"0",r),e=n[i.p]-p[i.p]-c+l+o-f,a&&xe(a,f,i,r-f<20||a._isStart&&f>20),r-=r-f}if(l){let t=e+r,o=l._isStart;u="scroll"+i.d2,xe(l,t,i,o&&t>20||!o&&(f?Math.max(s[u],n[u]):l.parentNode[u])<=t+1),f&&(p=se(a),f&&(l.style[i.op.p]=p[i.op.p]-i.op.m-l._offset+ee))}return g&&x&&(u=se(x),g.seek(h),m=se(x),g._caScrollDist=u[i.p]-m[i.p],e=e/g._caScrollDist*h),g&&g.seek(b),g?e:Math.round(e)},Xe=/(?:webkit|moz|length|cssText|inset)/i,Ye=(t,r,i,n)=>{if(t.parentNode!==r){let o,l,a=t.style;if(r===s){for(o in t._stOrig=a.cssText,l=ie(t),l)+o||Xe.test(o)||!l[o]||"string"!=typeof a[o]||"0"===o||(a[o]=l[o]);a.top=i,a.left=n}else a.cssText=t._stOrig;e.core.getCache(t).uncache=1,r.appendChild(t)}},je=(t,r)=>{let i,n,s=F(t,r),o="_scroll"+r.p2,l=(r,a,d,p,c)=>{let f=l.tween,h=a.onComplete,g={};return f&&f.kill(),i=Math.round(d),a[o]=r,a.modifiers=g,g[o]=e=>((e=I(s()))!==i&&e!==n&&Math.abs(e-i)>2&&Math.abs(e-n)>2?(f.kill(),l.tween=0):e=d+p*f.ratio+c*f.ratio*f.ratio,n=i,i=I(e)),a.onComplete=()=>{l.tween=0,h&&h.call(f)},f=l.tween=e.to(t,a),f};return t[o]=s,pe(t,"wheel",()=>l.tween&&l.tween.kill()&&(l.tween=0)),l};te.op=re;class Ze{constructor(r,i){t||Ze.register(e)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(r,i)}init(t,o){if(this.progress=this.start=0,this.vars&&this.kill(1),!A)return void(this.update=this.refresh=this.kill=B);t=ne(U(t)||Y(t)||t.nodeType?{trigger:t}:t,he);let l,c,g,m,x,b,w,k,C,M,R,I,z,N,q,Z,$,de,ge,xe,ye,Te,ke,Ce,Oe,Me,Pe,Re,_e,Ae,Be,Le,ze,Ne,We,Fe,Xe,{onUpdate:$e,toggleClass:Ge,id:Je,onToggle:Ke,onRefresh:Qe,scrub:et,trigger:tt,pin:rt,pinSpacing:it,invalidateOnRefresh:nt,anticipatePin:st,onScrubComplete:ot,onSnapComplete:lt,once:at,snap:dt,pinReparent:pt,pinSpacer:ct,containerAnimation:ft,fastScrollEnd:ht,preventOverlaps:gt}=t,ut=t.horizontal||t.containerAnimation&&!1!==t.horizontal?te:re,mt=!et&&0!==et,xt=L(t.scroller||r),bt=e.core.getCache(xt),vt=W(xt),yt="fixed"===("pinType"in t?t.pinType:D(xt,"pinType")||vt&&"fixed"),wt=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],St=mt&&t.toggleActions.split(" "),Tt="markers"in t?t.markers:he.markers,kt=vt?0:parseFloat(ie(xt)["border"+ut.p2+"Width"])||0,Ct=this,Ot=t.onRefreshInit&&(()=>t.onRefreshInit(Ct)),Et=((e,t,{d:i,d2:n,a:s})=>(s=D(e,"getBoundingClientRect"))?()=>s()[i]:()=>(t?r["inner"+n]:e["client"+n])||0)(xt,vt,ut),Mt=((e,t)=>!t||~E.indexOf(e)?H(e):()=>qe)(xt,vt),Pt=0,Rt=F(xt,ut);var _t;if(Ct.media=T,Ct._dir=ut,st*=45,Ct.scroller=xt,Ct.scroll=ft?ft.time.bind(ft):Rt,m=Rt(),Ct.vars=t,o=o||t.animation,"refreshPriority"in t&&(v=1),bt.tweenScroll=bt.tweenScroll||{top:je(xt,re),left:je(xt,te)},Ct.tweenTo=l=bt.tweenScroll[ut.p],o&&(o.vars.lazy=!1,o._initted||!1!==o.vars.immediateRender&&!1!==t.immediateRender&&o.render(0,!0,!0),Ct.animation=o.pause(),o.scrollTrigger=Ct,Be=Y(et)&&et,Be&&(Ae=e.to(o,{ease:"power3",duration:Be,onComplete:()=>ot&&ot(Ct)})),Re=0,Je||(Je=o.vars.id)),be.push(Ct),dt&&(j(dt)&&!dt.push||(dt={snapTo:dt}),"scrollBehavior"in s.style&&e.set(vt?[s,n]:xt,{scrollBehavior:"auto"}),g=X(dt.snapTo)?dt.snapTo:"labels"===dt.snapTo?(t=>r=>e.utils.snap(le(t),r))(o):"labelsDirectional"===dt.snapTo?(_t=o,(e,t)=>ae(le(_t))(e,t.direction)):!1!==dt.directional?(e,t)=>ae(dt.snapTo)(e,t.direction):e.utils.snap(dt.snapTo),Le=dt.duration||{min:.1,max:2},Le=j(Le)?d(Le.min,Le.max):d(Le,Le),ze=e.delayedCall(dt.delay||Be/2||.1,()=>{if(Math.abs(Ct.getVelocity())<10&&!h&&Pt!==Rt()){let t=o&&!mt?o.totalProgress():Ct.progress,r=(t-_e)/(P()-p)*1e3||0,i=e.utils.clamp(-Ct.progress,1-Ct.progress,K(r/2)*r/.185),n=Ct.progress+(!1===dt.inertia?0:i),s=d(0,1,g(n,Ct)),a=Rt(),c=Math.round(b+s*z),{onStart:f,onInterrupt:h,onComplete:u}=dt,m=l.tween;if(a<=w&&a>=b&&c!==a){if(m&&!m._initted&&m.data<=K(c-a))return;!1===dt.inertia&&(i=s-Ct.progress),l(c,{duration:Le(K(.185*Math.max(K(n-t),K(s-t))/r/.05||0)),ease:dt.ease||"power3",data:K(c-a),onInterrupt:()=>ze.restart(!0)&&h&&h(Ct),onComplete:()=>{Ct.update(),Pt=Rt(),Re=_e=o&&!mt?o.totalProgress():Ct.progress,lt&&lt(Ct),u&&u(Ct)}},a,i*z,c-a-i*z),f&&f(Ct,l.tween)}}else Ct.isActive&&ze.restart(!0)}).pause()),Je&&(ve[Je]=Ct),tt=Ct.trigger=L(tt||rt),rt=!0===rt?tt:L(rt),U(Ge)&&(Ge={targets:tt,className:Ge}),rt&&(!1===it||"margin"===it||(it=!(!it&&"flex"===ie(rt.parentNode).display)&&Q),Ct.pin=rt,!1!==t.force3D&&e.set(rt,{force3D:!0}),c=e.core.getCache(rt),c.spacer?N=c.pinState:(ct&&(ct=L(ct),ct&&!ct.nodeType&&(ct=ct.current||ct.nativeElement),c.spacerIsNative=!!ct,ct&&(c.spacerState=Ve(ct))),c.spacer=$=ct||i.createElement("div"),$.classList.add("pin-spacer"),Je&&$.classList.add("pin-spacer-"+Je),c.pinState=N=Ve(rt)),Ct.spacer=$=c.spacer,Pe=ie(rt),ke=Pe[it+ut.os2],ge=e.getProperty(rt),xe=e.quickSetter(rt,ut.a,ee),De(rt,$,Pe),Z=Ve(rt)),Tt&&(I=j(Tt)?ne(Tt,fe):fe,M=me("scroller-start",Je,xt,ut,I,0),R=me("scroller-end",Je,xt,ut,I,0,M),de=M["offset"+ut.op.d2],k=me("start",Je,xt,ut,I,de,0,ft),C=me("end",Je,xt,ut,I,de,0,ft),ft&&(Xe=e.quickSetter([k,C],ut.a,ee)),yt||E.length&&!0===D(xt,"fixedMarkers")||((e=>{let t=ie(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"})(vt?s:xt),e.set([M,R],{force3D:!0}),Oe=e.quickSetter(M,ut.a,ee),Me=e.quickSetter(R,ut.a,ee))),ft){let e=ft.vars.onUpdate,t=ft.vars.onUpdateParams;ft.eventCallback("onUpdate",()=>{Ct.update(0,0,1),e&&e.apply(t||[])})}Ct.previous=()=>be[be.indexOf(Ct)-1],Ct.next=()=>be[be.indexOf(Ct)+1],Ct.revert=e=>{let t=!1!==e||!Ct.enabled,r=f;t!==Ct.isReverted&&(t&&(Ct.scroll.rec||(Ct.scroll.rec=Rt()),We=Math.max(Rt(),Ct.scroll.rec||0),Ne=Ct.progress,Fe=o&&o.progress()),k&&[k,C,M,R].forEach(e=>e.style.display=t?"none":"block"),t&&(f=1),Ct.update(t),f=r,rt&&(t?((e,t,r)=>{He(r);let i=e._gsap;if(i.spacerIsNative)He(i.spacerState);else if(e.parentNode===t){let r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}})(rt,$,N):(!pt||!Ct.isActive)&&De(rt,$,ie(rt),Ce)),Ct.isReverted=t)},Ct.refresh=(r,i)=>{if((f||!Ct.enabled)&&!i)return;if(rt&&r&&_)return void pe(Ze,"scrollEnd",Ee);f=1,Ae&&Ae.pause(),nt&&o&&o.time(-.01,!0).invalidate(),Ct.isReverted||Ct.revert();let n,l,a,d,p,c,h,g,u,v,S=Et(),T=Mt(),O=ft?ft.duration():V(xt,ut),E=0,P=0,A=t.end,B=t.endTrigger||tt,I=t.start||(0!==t.start&&tt?rt?"0 0":"0 100%":0),W=t.pinnedContainer&&L(t.pinnedContainer),D=tt&&Math.max(0,be.indexOf(Ct))||0,H=D;for(;H--;)c=be[H],c.end||c.refresh(0,1)||(f=1),h=c.pin,!h||h!==tt&&h!==rt||c.isReverted||(v||(v=[]),v.unshift(c),c.revert());for(X(I)&&(I=I(Ct)),b=Ue(I,tt,S,ut,Rt(),k,M,Ct,T,kt,yt,O,ft)||(rt?-.001:0),X(A)&&(A=A(Ct)),U(A)&&!A.indexOf("+=")&&(~A.indexOf(" ")?A=(U(I)?I.split(" ")[0]:"")+A:(E=ue(A.substr(2),S),A=U(I)?I:b+E,B=tt)),w=Math.max(b,Ue(A||(B?"100% 0":O),B,S,ut,Rt()+E,C,R,Ct,T,kt,yt,O,ft))||-.001,z=w-b||(b-=.01)&&.001,E=0,H=D;H--;)c=be[H],h=c.pin,h&&c.start-c._pinPush<b&&!ft&&(n=c.end-c.start,h!==tt&&h!==W||Y(I)||(E+=n*(1-c.progress)),h===rt&&(P+=n));if(b+=E,w+=E,Ct._pinPush=P,k&&E&&(n={},n[ut.a]="+="+E,W&&(n[ut.p]="-="+Rt()),e.set([k,C],n)),rt)n=ie(rt),d=ut===re,a=Rt(),ye=parseFloat(ge(ut.a))+P,!O&&w>1&&((vt?s:xt).style["overflow-"+ut.a]="scroll"),De(rt,$,n),Z=Ve(rt),l=se(rt,!0),g=yt&&F(xt,d?te:re)(),it&&(Ce=[it+ut.os2,z+P+ee],Ce.t=$,H=it===Q?oe(rt,ut)+z+P:0,H&&Ce.push(ut.d,H+ee),He(Ce),yt&&Rt(We)),yt&&(p={top:l.top+(d?a-b:g)+ee,left:l.left+(d?g:a-b)+ee,boxSizing:"border-box",position:"fixed"},p.width=p.maxWidth=Math.ceil(l.width)+ee,p.height=p.maxHeight=Math.ceil(l.height)+ee,p.margin=p.marginTop=p.marginRight=p.marginBottom=p.marginLeft="0",p.padding=n.padding,p.paddingTop=n.paddingTop,p.paddingRight=n.paddingRight,p.paddingBottom=n.paddingBottom,p.paddingLeft=n.paddingLeft,q=((e,t,r)=>{let i,n=[],s=e.length,o=r?8:0;for(;o<s;o+=2)i=e[o],n.push(i,i in t?t[i]:e[o+1]);return n.t=e.t,n})(N,p,pt)),o?(u=o._initted,y(1),o.render(o.duration(),!0,!0),Te=ge(ut.a)-ye+z+P,z!==Te&&q.splice(q.length-2,2),o.render(0,!0,!0),u||o.invalidate(),y(0)):Te=z;else if(tt&&Rt()&&!ft)for(l=tt.parentNode;l&&l!==s;)l._pinOffset&&(b-=l._pinOffset,w-=l._pinOffset),l=l.parentNode;v&&v.forEach(e=>e.revert(!1)),Ct.start=b,Ct.end=w,m=x=Rt(),ft||(m<We&&Rt(We),Ct.scroll.rec=0),Ct.revert(!1),f=0,o&&mt&&o._initted&&o.progress()!==Fe&&o.progress(Fe,!0).render(o.time(),!0,!0),(Ne!==Ct.progress||ft)&&(o&&!mt&&o.totalProgress(Ne,!0),Ct.progress=Ne,Ct.update(0,0,1)),rt&&it&&($._pinOffset=Math.round(Ct.progress*Te)),Qe&&Qe(Ct)},Ct.getVelocity=()=>(Rt()-x)/(P()-p)*1e3||0,Ct.endAnimation=()=>{G(Ct.callbackAnimation),o&&(Ae?Ae.progress(1):o.paused()?mt||G(o,Ct.direction<0,1):G(o,o.reversed()))},Ct.labelToScroll=e=>o&&o.labels&&(b||Ct.refresh()||b)+o.labels[e]/o.duration()*z||0,Ct.getTrailing=e=>{let t=be.indexOf(Ct),r=Ct.direction>0?be.slice(0,t).reverse():be.slice(t+1);return U(e)?r.filter(t=>t.vars.preventOverlaps===e):r},Ct.update=(e,t,r)=>{if(ft&&!r&&!e)return;let i,n,d,c,h,g,u,v,y=Ct.scroll(),T=e?0:(y-b)/z,k=T<0?0:T>1?1:T||0,C=Ct.progress;if(t&&(x=m,m=ft?Rt():y,dt&&(_e=Re,Re=o&&!mt?o.totalProgress():k)),st&&!k&&rt&&!f&&!O&&_&&b<y+(y-x)/(P()-p)*st&&(k=1e-4),k!==C&&Ct.enabled){if(i=Ct.isActive=!!k&&k<1,n=!!C&&C<1,g=i!==n,h=g||!!k!=!!C,Ct.direction=k>C?1:-1,Ct.progress=k,h&&!f&&(d=k&&!C?0:1===k?1:1===C?2:3,mt&&(c=!g&&"none"!==St[d+1]&&St[d+1]||St[d],v=o&&("complete"===c||"reset"===c||c in o))),gt&&g&&(v||et||!o)&&(X(gt)?gt(Ct):Ct.getTrailing(gt).forEach(e=>e.endAnimation())),mt||(!Ae||f||O?o&&o.totalProgress(k,!!f):(Ae.vars.totalProgress=k,Ae.invalidate().restart())),rt)if(e&&it&&($.style[it+ut.os2]=ke),yt){if(h){if(u=!e&&k>C&&w+1>y&&y+1>=V(xt,ut),pt)if(e||!i&&!u)Ye(rt,$);else{let e=se(rt,!0),t=y-b;Ye(rt,s,e.top+(ut===re?t:0)+ee,e.left+(ut===re?0:t)+ee)}He(i||u?q:Z),Te!==z&&k<1&&i||xe(ye+(1!==k||u?0:Te))}}else xe(ye+Te*k);dt&&!l.tween&&!f&&!O&&ze.restart(!0),Ge&&(g||at&&k&&(k<1||!S))&&a(Ge.targets).forEach(e=>e.classList[i||at?"add":"remove"](Ge.className)),$e&&!mt&&!e&&$e(Ct),h&&!f?(mt&&(v&&("complete"===c?o.pause().totalProgress(1):"reset"===c?o.restart(!0).pause():"restart"===c?o.restart(!0):o[c]()),$e&&$e(Ct)),!g&&S||(Ke&&g&&J(Ct,Ke),wt[d]&&J(Ct,wt[d]),at&&(1===k?Ct.kill(!1,1):wt[d]=0),g||(d=1===k?1:3,wt[d]&&J(Ct,wt[d]))),ht&&!i&&Math.abs(Ct.getVelocity())>(Y(ht)?ht:2500)&&(G(Ct.callbackAnimation),Ae?Ae.progress(1):G(o,!k,1))):mt&&$e&&!f&&$e(Ct)}if(Me){let e=ft?y/ft.duration()*(ft._caScrollDist||0):y;Oe(e+(M._isFlipped?1:0)),Me(e)}Xe&&Xe(-y/ft.duration()*(ft._caScrollDist||0))},Ct.enable=(e,t)=>{Ct.enabled||(Ct.enabled=!0,pe(xt,"resize",Se),pe(xt,"scroll",we),Ot&&pe(Ze,"refreshInit",Ot),!1!==e&&(Ct.progress=Ne=0,m=x=Pt=Rt()),!1!==t&&Ct.refresh())},Ct.getTween=e=>e&&l?l.tween:Ae,Ct.setPositions=(e,t)=>{rt&&(ye+=e-b,Te+=t-e-z),Ct.start=b=e,Ct.end=w=t,z=t-e,Ct.update()},Ct.disable=(e,t)=>{if(Ct.enabled&&(!1!==e&&Ct.revert(),Ct.enabled=Ct.isActive=!1,t||Ae&&Ae.pause(),We=0,c&&(c.uncache=1),Ot&&ce(Ze,"refreshInit",Ot),ze&&(ze.pause(),l.tween&&l.tween.kill()&&(l.tween=0)),!vt)){let e=be.length;for(;e--;)if(be[e].scroller===xt&&be[e]!==Ct)return;ce(xt,"resize",Se),ce(xt,"scroll",we)}},Ct.kill=(e,t)=>{Ct.disable(e,t),Ae&&Ae.kill(),Je&&delete ve[Je];let r=be.indexOf(Ct);r>=0&&be.splice(r,1),r===u&&Ie>0&&u--,r=0,be.forEach(e=>e.scroller===Ct.scroller&&(r=1)),r||(Ct.scroll.rec=0),o&&(o.scrollTrigger=null,e&&o.render(-1),t||o.kill()),k&&[k,C,M,R].forEach(e=>e.parentNode&&e.parentNode.removeChild(e)),rt&&(c&&(c.uncache=1),r=0,be.forEach(e=>e.pin===rt&&r++),r||(c.spacer=0))},Ct.enable(!1,!1),o&&o.add&&!z?e.delayedCall(.01,()=>b||w||Ct.refresh())&&(z=.01)&&(b=w=0):Ct.refresh()}static register(p){if(!t&&(e=p||N(),z()&&window.document&&(r=window,i=document,n=i.documentElement,s=i.body),e&&(a=e.utils.toArray,d=e.utils.clamp,y=e.core.suppressOverwrites||B,e.core.globals("ScrollTrigger",Ze),s))){pe(r,"wheel",we),o=[r,i,n,s],pe(i,"scroll",we);let a,d=s.style,p=d.borderTopStyle;d.borderTopStyle="solid",a=se(s),re.m=Math.round(a.top+re.sc())||0,te.m=Math.round(a.left+te.sc())||0,p?d.borderTopStyle=p:d.removeProperty("border-top-style"),c=setInterval(ye,200),e.delayedCall(.5,()=>O=0),pe(i,"touchcancel",B),pe(s,"touchstart",B),de(pe,i,"pointerdown,touchstart,mousedown",()=>h=1),de(pe,i,"pointerup,touchend,mouseup",()=>h=0),g=e.utils.checkPrefix("transform"),We.push(g),t=P(),l=e.delayedCall(.2,Be).pause(),b=[i,"visibilitychange",()=>{let e=r.innerWidth,t=r.innerHeight;i.hidden?(m=e,x=t):m===e&&x===t||Se()},i,"DOMContentLoaded",Be,r,"load",()=>_||Be(),r,"resize",Se],q(pe)}return t}static defaults(e){if(e)for(let t in e)he[t]=e[t];return he}static kill(){A=0,be.slice(0).forEach(e=>e.kill(1))}static config(e){"limitCallbacks"in e&&(S=!!e.limitCallbacks);let t=e.syncInterval;t&&clearInterval(c)||(c=t)&&setInterval(ye,t),"autoRefreshEvents"in e&&(q(ce)||q(pe,e.autoRefreshEvents||"none"),w=-1===(e.autoRefreshEvents+"").indexOf("resize"))}static scrollerProxy(e,t){let i=L(e),o=M.indexOf(i),l=W(i);~o&&M.splice(o,l?6:2),t&&(l?E.unshift(r,t,s,t,n,t):E.unshift(i,t))}static matchMedia(e){let t,i,n,s,o;for(i in e)n=Ce.indexOf(i),s=e[i],T=i,"all"===i?s():(t=r.matchMedia(i),t&&(t.matches&&(o=s()),~n?(Ce[n+1]=$(Ce[n+1],s),Ce[n+2]=$(Ce[n+2],o)):(n=Ce.length,Ce.push(i,s,o),t.addListener?t.addListener(Oe):t.addEventListener("change",Oe)),Ce[n+3]=t.matches)),T=0;return Ce}static clearMatchMedia(e){e||(Ce.length=0),(e=Ce.indexOf(e))>=0&&Ce.splice(e,4)}static isInViewport(e,t,i){let n=(U(e)?L(e):e).getBoundingClientRect(),s=n[i?"width":"height"]*t||0;return i?n.right-s>0&&n.left+s<r.innerWidth:n.bottom-s>0&&n.top+s<r.innerHeight}static positionInViewport(e,t,i){U(e)&&(e=L(e));let n=e.getBoundingClientRect(),s=n[i?"width":"height"],o=null==t?s/2:t in ge?ge[t]*s:~t.indexOf("%")?parseFloat(t)*s/100:parseFloat(t)||0;return i?(n.left+o)/r.innerWidth:(n.top+o)/r.innerHeight}}Ze.version="3.9.0",Ze.saveStyles=t=>t?a(t).forEach(t=>{if(t&&t.style){let r=Pe.indexOf(t);r>=0&&Pe.splice(r,5),Pe.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),e.core.getCache(t),T)}}):Pe,Ze.revert=(e,t)=>_e(!e,t),Ze.create=(e,t)=>new Ze(e,t),Ze.refresh=e=>e?Se():(t||Ze.register())&&Be(!0),Ze.update=ze,Ze.clearScrollMemory=Ae,Ze.maxScroll=(e,t)=>V(e,t?te:re),Ze.getScrollFunc=(e,t)=>F(L(e),t?te:re),Ze.getById=e=>ve[e],Ze.getAll=()=>be.slice(0),Ze.isScrolling=()=>!!_,Ze.snapDirectional=ae,Ze.addEventListener=(e,t)=>{let r=Te[e]||(Te[e]=[]);~r.indexOf(t)||r.push(t)},Ze.removeEventListener=(e,t)=>{let r=Te[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},Ze.batch=(t,r)=>{let i,n=[],s={},o=r.interval||.016,l=r.batchMax||1e9,d=(t,r)=>{let i=[],n=[],s=e.delayedCall(o,()=>{r(i,n),i=[],n=[]}).pause();return e=>{i.length||s.restart(!0),i.push(e.trigger),n.push(e),l<=i.length&&s.progress(1)}};for(i in r)s[i]="on"===i.substr(0,2)&&X(r[i])&&"onRefreshInit"!==i?d(0,r[i]):r[i];return X(l)&&(l=l(),pe(Ze,"refresh",()=>l=r.batchMax())),a(t).forEach(e=>{let t={};for(i in s)t[i]=s[i];t.trigger=e,n.push(Ze.create(t))}),n},Ze.sort=e=>be.sort(e||((e,t)=>-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0)))),N()&&e.registerPlugin(Ze);export default Ze;export{Ze as ScrollTrigger};
