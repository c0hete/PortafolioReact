/*!
 * Flip 3.9.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let e,t,i,s,a,l,n,r,o,h="transform",p=h+"Origin",d=a=>{let l=a.ownerDocument||a;!(h in a.style)&&"msTransform"in a.style&&(h="msTransform",p=h+"Origin");for(;l.parentNode&&(l=l.parentNode););if(t=window,n=new S,l){e=l,i=l.documentElement,s=l.body,r=e.createElementNS("http://www.w3.org/2000/svg","g"),r.style.transform="none";let t=l.createElement("div"),a=l.createElement("div");s.appendChild(t),t.appendChild(a),t.style.position="static",t.style[h]="translate3d(0,0,1px)",o=a.offsetParent!==t,s.removeChild(t)}return l},c=[],m=[],u=()=>t.pageYOffset||e.scrollTop||i.scrollTop||s.scrollTop||0,f=()=>t.pageXOffset||e.scrollLeft||i.scrollLeft||s.scrollLeft||0,g=e=>e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null),y=e=>"fixed"===t.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?y(e):void 0),x=(t,i)=>{if(t.parentNode&&(e||d(t))){let s=g(t),n=s?s.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",r=s?i?"rect":"g":"div",o=2!==i?0:100,h=3===i?100:0,p="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",d=e.createElementNS?e.createElementNS(n.replace(/^https/,"http"),r):e.createElement(r);return i&&(s?(l||(l=x(t)),d.setAttribute("width",.01),d.setAttribute("height",.01),d.setAttribute("transform","translate("+o+","+h+")"),l.appendChild(d)):(a||(a=x(t),a.style.cssText=p),d.style.cssText=p+"width:0.1px;height:0.1px;top:"+h+"px;left:"+o+"px",a.appendChild(d))),d}throw"Need document and parent."},b=e=>{let t,i=e.getCTM();return i||(t=e.style[h],e.style[h]="none",e.appendChild(r),i=r.getCTM(),e.removeChild(r),t?e.style[h]=t:e.style.removeProperty(h.replace(/([A-Z])/g,"-$1").toLowerCase())),i||n.clone()},w=(e,i)=>{let s,r,d,u,f,y,w=g(e),v=e===w,C=w?c:m,k=e.parentNode;if(e===t)return e;if(C.length||C.push(x(e,1),x(e,2),x(e,3)),s=w?l:a,w)v?(d=b(e),u=-d.e/d.a,f=-d.f/d.d,r=n):(d=e.getBBox(),r=e.transform?e.transform.baseVal:{},r=r.numberOfItems?r.numberOfItems>1?(e=>{let t=new S,i=0;for(;i<e.numberOfItems;i++)t.multiply(e.getItem(i).matrix);return t})(r):r.getItem(0).matrix:n,u=r.a*d.x+r.c*d.y,f=r.b*d.x+r.d*d.y),i&&"g"===e.tagName.toLowerCase()&&(u=f=0),(v?w:k).appendChild(s),s.setAttribute("transform","matrix("+r.a+","+r.b+","+r.c+","+r.d+","+(r.e+u)+","+(r.f+f)+")");else{if(u=f=0,o)for(r=e.offsetParent,d=e;d&&(d=d.parentNode)&&d!==r&&d.parentNode;)(t.getComputedStyle(d)[h]+"").length>4&&(u=d.offsetLeft,f=d.offsetTop,d=0);if(y=t.getComputedStyle(e),"absolute"!==y.position&&"fixed"!==y.position)for(r=e.offsetParent;k&&k!==r;)u+=k.scrollLeft||0,f+=k.scrollTop||0,k=k.parentNode;d=s.style,d.top=e.offsetTop-f+"px",d.left=e.offsetLeft-u+"px",d[h]=y[h],d[p]=y[p],d.position="fixed"===y.position?"fixed":"absolute",e.parentNode.appendChild(s)}return s},v=(e,t,i,s,a,l,n)=>(e.a=t,e.b=i,e.c=s,e.d=a,e.e=l,e.f=n,e);class S{constructor(e=1,t=0,i=0,s=1,a=0,l=0){v(this,e,t,i,s,a,l)}inverse(){let{a:e,b:t,c:i,d:s,e:a,f:l}=this,n=e*s-t*i||1e-10;return v(this,s/n,-t/n,-i/n,e/n,(i*l-s*a)/n,-(e*l-t*a)/n)}multiply(e){let{a:t,b:i,c:s,d:a,e:l,f:n}=this,r=e.a,o=e.c,h=e.b,p=e.d,d=e.e,c=e.f;return v(this,r*t+h*s,r*i+h*a,o*t+p*s,o*i+p*a,l+d*t+c*s,n+d*i+c*a)}clone(){return new S(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){let{a:t,b:i,c:s,d:a,e:l,f:n}=this;return t===e.a&&i===e.b&&s===e.c&&a===e.d&&l===e.e&&n===e.f}apply(e,t={}){let{x:i,y:s}=e,{a:a,b:l,c:n,d:r,e:o,f:h}=this;return t.x=i*a+s*n+o||0,t.y=i*l+s*r+h||0,t}}function C(t,i,a,l){if(!t||!t.parentNode||(e||d(t)).documentElement===t)return new S;let n=(e=>{let t,i;for(;e&&e!==s;)i=e._gsap,i&&i.uncache&&i.get(e,"x"),i&&!i.scaleX&&!i.scaleY&&i.renderTransform&&(i.scaleX=i.scaleY=1e-4,i.renderTransform(1,i),t?t.push(i):t=[i]),e=e.parentNode;return t})(t),r=g(t)?c:m,o=w(t,a),h=r[0].getBoundingClientRect(),p=r[1].getBoundingClientRect(),x=r[2].getBoundingClientRect(),b=o.parentNode,v=!l&&y(t),C=new S((p.left-h.left)/100,(p.top-h.top)/100,(x.left-h.left)/100,(x.top-h.top)/100,h.left+(v?0:f()),h.top+(v?0:u()));if(b.removeChild(o),n)for(h=n.length;h--;)p=n[h],p.scaleX=p.scaleY=0,p.renderTransform(1,p);return i?C.inverse():C}let k,V,E,L,B,_,I,N=1,T=(e,t)=>e.actions.forEach(e=>e.vars[t]&&e.vars[t](e)),X={},P=180/Math.PI,O=Math.PI/180,M={},Y={},A={},R=e=>"string"==typeof e?e.split(" ").join("").split(","):e,z=R("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),D=R("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),H=e=>k(e)[0]||console.warn("Element not found:",e),W=e=>Math.round(1e4*e)/1e4||0,F=(e,t,i)=>e.forEach(e=>e.classList[i](t)),q={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},j={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},J=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),U=(e,t)=>{let i,s={};for(i in e)t[i]||(s[i]=e[i]);return s},Z={},$=e=>{let t=Z[e]=R(e);return A[e]=t.concat(D),t},G=(e,t,i=0)=>{let s=e.parentNode,a=1e3*10**i*(t?-1:1),l=t?900*-a:0;for(;e;)l+=a,e=e.previousSibling;return s?l+G(s,t,i+1):l},K=(e,t,i)=>(e.forEach(e=>e.d=G(i?e.element:e.t,t)),e.sort((e,t)=>e.d-t.d),e),Q=(e,t)=>{let i,s,a=e.element.style,l=e.css=e.css||[],n=t.length;for(;n--;)i=t[n],s=a[i]||a.getPropertyValue(i),l.push(s?i:Y[i]||(Y[i]=J(i)),s);return a},ee=e=>{let t=e.css,i=e.element.style,s=0;for(e.cache.uncache=1;s<t.length;s+=2)t[s+1]?i[t[s]]=t[s+1]:i.removeProperty(t[s])},te=(e,t)=>{e.forEach(e=>e.a.cache.uncache=1),t||e.finalStates.forEach(ee)},ie=(e,t,i)=>{let s,a,{element:l,width:n,height:r,uncache:o,getProp:h}=e,p=l.style;if("object"!=typeof t&&(t=e),"absolute"!==h("position")){if(E&&1!==i)return E._abs.push({t:l,b:e,a:e,sd:0}),E._final.push(()=>(e.cache.uncache=1)&&ee(e)),l;if(a="none"===h("display"),e.isVisible&&!a||(a&&(Q(e,["display"]).display=t.display),e.matrix=t.matrix,e.width=n=e.width||t.width,e.height=r=e.height||t.height),p.position="absolute",p.width=n+"px",p.height=r+"px",p.top||(p.top="0px"),p.left||(p.left="0px"),o)s=new we(l);else if(s=U(e,M),s.position="absolute",e.simple){let e=l.getBoundingClientRect();s.matrix=new S(1,0,0,1,e.left+f(),e.top+u())}else s.matrix=C(l,!1,!1,!0);s=he(s,e,!0),e.x=_(s.x,.01),e.y=_(s.y,.01)}return l},se=(e,t)=>(!0!==t&&(t=k(t),e=e.filter(e=>-1!==t.indexOf((e.sd<0?e.b:e.a).element))),e),ae=e=>K(e,!0).forEach(e=>(e.a.isVisible||e.b.isVisible)&&ie(e.sd<0?e.b:e.a,e.b,1)),le=(e,t,i,s)=>e instanceof we?e:e instanceof be?((e,t)=>t&&e.idLookup[le(t).id]||e.elementStates[0])(e,s):new we("string"==typeof e?H(e)||console.warn(e+" not found"):e,t,i),ne=(e,t)=>{let i,s=e.style||e;for(i in t)s[i]=t[i]},re=e=>e.map(e=>e.element),oe=(e,t,i)=>e&&t.length&&i.add(e(re(t),i,new be(t,0,!0)),0),he=(e,t,i,s,a,l)=>{let n,r,o,h,p,d,c,{element:m,cache:u,parent:f,x:g,y:y}=e,{width:x,height:b,scaleX:w,scaleY:v,rotation:S,bounds:E}=t,L=l&&m.style.cssText,B=l&&m.getBBox&&m.getAttribute("transform"),I=e,{e:N,f:T}=t.matrix,X=e.bounds.width!==E.width||e.bounds.height!==E.height||e.scaleX!==w||e.scaleY!==v||e.rotation!==S,M=!X&&e.simple&&t.simple&&!a;return M?(w=v=1,S=n=0):(p=(e=>{let t=e._gsap||V.core.getCache(e);return t.gmCache===V.ticker.frame?t.gMatrix:(t.gmCache=V.ticker.frame,t.gMatrix=C(e,!0,!1,!0))})(f),d=p.clone().multiply(t.ctm?t.matrix.clone().multiply(t.ctm):t.matrix),S=W(Math.atan2(d.b,d.a)*P),n=W(Math.atan2(d.c,d.d)*P+S)%360,w=Math.sqrt(d.a**2+d.b**2),v=Math.sqrt(d.c**2+d.d**2)*Math.cos(n*O),a&&(a=k(a)[0],h=V.getProperty(a),c=a.getBBox&&"function"==typeof a.getBBox&&a.getBBox(),I={scaleX:h("scaleX"),scaleY:h("scaleY"),width:c?c.width:Math.ceil(parseFloat(h("width","px"))),height:c?c.height:parseFloat(h("height","px"))}),u.rotation=S+"deg",u.skewX=n+"deg"),i?(w*=x!==I.width&&I.width?x/I.width:1,v*=b!==I.height&&I.height?b/I.height:1,u.scaleX=w,u.scaleY=v):(x=_(x*w/I.scaleX,0),b=_(b*v/I.scaleY,0),m.style.width=x+"px",m.style.height=b+"px"),s&&ne(m,t.props),M?(g+=N-e.matrix.e,y+=T-e.matrix.f):X||f!==t.parent?(u.renderTransform(1,u),d=C(a||m,!1,!1,!0),r=p.apply({x:d.e,y:d.f}),o=p.apply({x:N,y:T}),g+=o.x-r.x,y+=o.y-r.y):(p.e=p.f=0,o=p.apply({x:N-e.matrix.e,y:T-e.matrix.f}),g+=o.x,y+=o.y),g=_(g,.02),y=_(y,.02),!l||l instanceof we?(u.x=g+"px",u.y=y+"px",u.renderTransform(1,u)):(m.style.cssText=L,m.getBBox&&m.setAttribute("transform",B||""),u.uncache=1),l&&(l.x=g,l.y=y,l.rotation=S,l.skewX=n,i?(l.scaleX=w,l.scaleY=v):(l.width=x,l.height=b)),l||u},pe=(e,t)=>e instanceof be?e:new be(e,t),de=(e,t,i)=>{let s=e.idLookup[i],a=e.alt[i];return!a.isVisible||(t.getElementState(a.element)||a).isVisible&&s.isVisible?s:a},ce=[],me="width,height,overflowX,overflowY".split(","),ue=e=>{if(e!==I){let t=B.style,i=B.clientWidth===window.outerWidth,s=B.clientHeight===window.outerHeight,a=4;if(e&&(i||s)){for(;a--;)ce[a]=t[me[a]];i&&(t.width=B.clientWidth+"px",t.overflowY="hidden"),s&&(t.height=B.clientHeight+"px",t.overflowX="hidden"),I=e}else if(I){for(;a--;)ce[a]?t[me[a]]=ce[a]:t.removeProperty(J(me[a]));I=e}}},fe=(e,t,i,s)=>{e instanceof be&&t instanceof be||console.warn("Not a valid state object."),i=i||{};let a,l,n,r,o,h,p,d,c,m,u,f,g,y,{clearProps:x,onEnter:b,onLeave:w,absolute:v,absoluteOnLeave:S,custom:k,delay:L,paused:B,repeat:_,repeatDelay:I,yoyo:N,toggleClass:T,nested:X,zIndex:P,scale:O,fade:M,stagger:Y,spin:R,prune:H}=i,W=("props"in i?i:e).props,J=U(i,q),G=V.timeline({delay:L,paused:B,repeat:_,repeatDelay:I,yoyo:N}),ee=J,ie=[],le=[],ne=[],re=[],pe=!0===R?1:R||0,ce="function"==typeof R?R:()=>pe,me=e.interrupted||t.interrupted,fe=G[1!==s?"to":"from"];for(l in t.idLookup)u=t.alt[l]?de(t,e,l):t.idLookup[l],o=u.element,m=e.idLookup[l],e.alt[l]&&o===m.element&&(e.alt[l].isVisible||!u.isVisible)&&(m=e.alt[l]),m?(h={t:o,b:m,a:u,sd:m.element===o?0:u.isVisible?1:-1},ne.push(h),h.sd&&(h.sd<0&&(h.b=u,h.a=m),me&&Q(h.b,W?A[W]:D),M&&ne.push(h.swap={t:m.element,b:h.b,a:h.a,sd:-h.sd,swap:h})),o._flip=m.element._flip=E?E.timeline:G):u.isVisible&&(ne.push({t:o,b:U(u,{isVisible:1}),a:u,sd:0}),o._flip=E?E.timeline:G);return W&&(Z[W]||$(W)).forEach(e=>J[e]=t=>ne[t].a.props[e]),ne.finalStates=c=[],f=()=>{for(K(ne),ue(!0),r=0;r<ne.length;r++)h=ne[r],g=h.a,y=h.b,H&&!g.isDifferent(y)?ne.splice(r--,1):(o=h.t,X&&!(h.sd<0)&&r&&(g.matrix=C(o,!1,!1,!0)),h.sd||y.isVisible&&g.isVisible?(h.sd<0?(p=new we(o,W,e.simple),he(p,g,O,0,0,p),p.matrix=C(o,!1,!1,!0),p.css=h.b.css,h.a=g=p,M&&(o.style.opacity=me?y.opacity:g.opacity),Y&&re.push(o)):h.sd>0&&M&&(o.style.opacity=me?g.opacity-y.opacity:"0"),he(g,y,O,W)):y.isVisible!==g.isVisible&&(y.isVisible?g.isVisible||(y.css=g.css,le.push(y),ne.splice(r--,1),v&&X&&he(g,y,O,W)):(g.isVisible&&ie.push(g),ne.splice(r--,1))),O||(o.style.maxWidth=Math.max(g.width,y.width)+"px",o.style.maxHeight=Math.max(g.height,y.height)+"px",o.style.minWidth=Math.min(g.width,y.width)+"px",o.style.minHeight=Math.min(g.height,y.height)+"px"),X&&T&&o.classList.add(T)),c.push(g);let t;if(T&&(t=c.map(e=>e.element),X&&t.forEach(e=>e.classList.remove(T))),ue(!1),O?(J.scaleX=e=>ne[e].a.scaleX,J.scaleY=e=>ne[e].a.scaleY):(J.width=e=>ne[e].a.width+"px",J.height=e=>ne[e].a.height+"px",J.autoRound=i.autoRound||!1),J.x=e=>ne[e].a.x+"px",J.y=e=>ne[e].a.y+"px",J.rotation=e=>ne[e].a.rotation+(R?360*ce(e,d[e],d):0),J.skewX=e=>ne[e].a.skewX,d=ne.map(e=>e.t),(P||0===P)&&(J.modifiers={zIndex:()=>P},J.zIndex=P,J.immediateRender=!1!==i.immediateRender),M&&(J.opacity=e=>ne[e].sd<0?0:ne[e].sd>0?ne[e].a.opacity:"+=0"),re.length){Y=V.utils.distribute(Y);let e=d.slice(re.length);J.stagger=(t,i)=>Y(~re.indexOf(i)?d.indexOf(ne[t].swap.t):t,i,e)}if(z.forEach(e=>i[e]&&G.eventCallback(e,i[e],i[e+"Params"])),k&&d.length)for(l in ee=U(J,q),"scale"in k&&(k.scaleX=k.scaleY=k.scale,delete k.scale),k)a=U(k[l],j),a[l]=J[l],!("duration"in a)&&"duration"in J&&(a.duration=J.duration),a.stagger=J.stagger,fe.call(G,d,a,0),delete ee[l];(d.length||le.length||ie.length)&&(T&&G.add(()=>F(t,T,G._zTime<0?"remove":"add"),0)&&!B&&F(t,T,"add"),d.length&&fe.call(G,d,ee,0)),oe(b,ie,G),oe(w,le,G);let s=E&&E.timeline;s&&(s.add(G,0),E._final.push(()=>te(ne,!x))),n=G.duration(),G.call(()=>{let e=G.time()>=n;e&&!s&&te(ne,!x),T&&F(t,T,e?"remove":"add")})},S&&(v=ne.filter(e=>!e.sd&&!e.a.isVisible&&e.b.isVisible).map(e=>e.a.element)),E?(v&&E._abs.push(...se(ne,v)),E._run.push(f)):(v&&ae(se(ne,v)),f()),E?E.timeline:G},ge=e=>{e.vars.onInterrupt&&e.vars.onInterrupt.apply(e,e.vars.onInterruptParams||[]),e.getChildren(!0,!1,!0).forEach(ge)},ye=(e,t)=>{if(e&&e.progress()<1&&!e.paused())return t&&(ge(e),t<2&&e.progress(1),e.kill()),!0},xe=e=>{let t,i=e.idLookup={},s=e.alt={},a=e.elementStates,l=a.length;for(;l--;)t=a[l],i[t.id]?s[t.id]=t:i[t.id]=t};class be{constructor(e,t,i){if(this.props=t&&t.props,this.simple=!(!t||!t.simple),i)this.targets=re(e),this.elementStates=e,xe(this);else{this.targets=k(e);let i=t&&(!1===t.kill||t.batch&&!t.kill);E&&!i&&E._kill.push(this),this.update(i||!!E)}}update(e){return this.elementStates=this.targets.map(e=>new we(e,this.props,this.simple)),xe(this),this.interrupt(e),this.recordInlineStyles(),this}clear(){return this.targets.length=this.elementStates.length=0,xe(this),this}fit(e,t,i){let s,a,l=K(this.elementStates.slice(0),!1,!0),n=(e||this).idLookup,r=0;for(;r<l.length;r++)s=l[r],i&&(s.matrix=C(s.element,!1,!1,!0)),a=n[s.id],a&&he(s,a,t,!0,0,s),s.matrix=C(s.element,!1,!1,!0);return this}getProperty(e,t){let i=this.getElementState(e)||M;return(t in i?i:i.props||M)[t]}add(e){let t,i,s,a=e.targets.length,l=this.idLookup,n=this.alt;for(;a--;)i=e.elementStates[a],s=l[i.id],s&&(i.element===s.element||n[i.id]&&n[i.id].element===i.element)?(t=this.elementStates.indexOf(i.element===s.element?s:n[i.id]),this.targets.splice(t,1,e.targets[a]),this.elementStates.splice(t,1,i)):(this.targets.push(e.targets[a]),this.elementStates.push(i));return e.interrupted&&(this.interrupted=!0),e.simple||(this.simple=!1),xe(this),this}compare(e){let t,i,s,a,l,n,r,o,h=e.idLookup,p=this.idLookup,d=[],c=[],m=[],u=[],f=[],g=e.alt,y=this.alt,x=(e,t,i)=>(e.isVisible!==t.isVisible?e.isVisible?m:u:e.isVisible?c:d).push(i)&&f.push(i),b=(e,t,i)=>f.indexOf(i)<0&&x(e,t,i);for(s in h)l=g[s],n=y[s],t=l?de(e,this,s):h[s],a=t.element,i=p[s],n?(o=i.isVisible||!n.isVisible&&a===i.element?i:n,r=!l||t.isVisible||l.isVisible||o.element!==l.element?t:l,r.isVisible&&o.isVisible&&r.element!==o.element?((r.isDifferent(o)?c:d).push(r.element,o.element),f.push(r.element,o.element)):x(r,o,r.element),l&&r.element===l.element&&(l=h[s]),b(r.element!==i.element&&l?l:r,i,i.element),b(l&&l.element===n.element?l:r,n,n.element),l&&b(l,n.element===l.element?n:i,l.element)):(i?i.isDifferent(t)?x(t,i,a):d.push(a):m.push(a),l&&b(l,i,l.element));for(s in p)h[s]||(u.push(p[s].element),y[s]&&u.push(y[s].element));return{changed:c,unchanged:d,enter:m,leave:u}}recordInlineStyles(){let e=A[this.props]||D,t=this.elementStates.length;for(;t--;)Q(this.elementStates[t],e)}interrupt(e){let t=[];this.targets.forEach(i=>{let s=i._flip,a=ye(s,e?0:1);e&&a&&t.indexOf(s)<0&&s.add(()=>this.updateVisibility()),a&&t.push(s)}),!e&&t.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!t.length)}updateVisibility(){this.elementStates.forEach(e=>{let t=e.element.getBoundingClientRect();e.isVisible=!!(t.width||t.height||t.top||t.left),e.uncache=1})}getElementState(e){return this.elementStates[this.targets.indexOf(H(e))]}makeAbsolute(){return K(this.elementStates.slice(0),!0,!0).map(ie)}}class we{constructor(e,t,i){this.element=e,this.update(t,i)}isDifferent(e){let t=this.bounds,i=e.bounds;return t.top!==i.top||t.left!==i.left||t.width!==i.width||t.height!==i.height||!this.matrix.equals(e.matrix)||this.opacity!==e.opacity||this.props&&e.props&&JSON.stringify(this.props)!==JSON.stringify(e.props)}update(e,t){let i=this.element,s=V.getProperty(i),a=V.core.getCache(i),l=i.getBoundingClientRect(),n=i.getBBox&&"function"==typeof i.getBBox&&"svg"!==i.nodeName.toLowerCase()&&i.getBBox(),r=t?new S(1,0,0,1,l.left+f(),l.top+u()):C(i,!1,!1,!0);this.getProp=s,this.element=i,this.id=(e=>{let t=e.getAttribute("data-flip-id");return t||e.setAttribute("data-flip-id",t="auto-"+N++),t})(i),this.matrix=r,this.cache=a,this.bounds=l,this.isVisible=!!(l.width||l.height||l.left||l.top),this.display=s("display"),this.position=s("position"),this.parent=i.parentNode,this.x=s("x"),this.y=s("y"),this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.rotation=s("rotation"),this.skewX=s("skewX"),this.opacity=s("opacity"),this.width=n?n.width:_(s("width","px"),.04),this.height=n?n.height:_(s("height","px"),.04),e&&((e,t)=>{let i=V.getProperty(e.element,null,"native"),s=e.props={},a=t.length;for(;a--;)s[t[a]]=(i(t[a])+"").trim();s.zIndex&&(s.zIndex=parseFloat(s.zIndex)||0)})(this,Z[e]||$(e)),this.ctm=i.getCTM&&"svg"===i.nodeName.toLowerCase()&&b(i).inverse(),this.simple=t||1===W(r.a)&&!W(r.b)&&!W(r.c)&&1===W(r.d),this.uncache=0}}class ve{constructor(e,t){this.vars=e,this.batch=t,this.states=[],this.timeline=t.timeline}getStateById(e){let t=this.states.length;for(;t--;)if(this.states[t].idLookup[e])return this.states[t]}kill(){this.batch.remove(this)}}class Se{constructor(e){this.id=e,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new be,this.timeline=V.timeline()}add(e){let t=this.actions.filter(t=>t.vars===e);return t.length?t[0]:(t=new ve("function"==typeof e?{animate:e}:e,this),this.actions.push(t),t)}remove(e){let t=this.actions.indexOf(e);return t>=0&&this.actions.splice(t,1),this}getState(e){let t=E,i=L;return E=this,this.state.clear(),this._kill.length=0,this.actions.forEach(t=>{t.vars.getState&&(t.states.length=0,L=t,t.state=t.vars.getState(t)),e&&t.states.forEach(e=>this.state.add(e))}),L=i,E=t,this.killConflicts(),this}animate(){let e,t,i=E,s=this.timeline,a=this.actions.length;for(E=this,s.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach(e=>{e.vars.animate&&e.vars.animate(e);let t,i,s=e.vars.onEnter,a=e.vars.onLeave,l=e.targets;l&&l.length&&(s||a)&&(t=new be,e.states.forEach(e=>t.add(e)),i=t.compare(Ce.getState(l)),i.enter.length&&s&&s(i.enter),i.leave.length&&a&&a(i.leave))}),ae(this._abs),this._run.forEach(e=>e()),t=s.duration(),e=this._final.slice(0),s.add(()=>{t<=s.time()&&(e.forEach(e=>e()),T(this,"onComplete"))}),E=i;a--;)this.actions[a].vars.once&&this.actions[a].kill();return T(this,"onStart"),s.restart(),this}loadState(e){e||(e=()=>0);let t=[];return this.actions.forEach(i=>{if(i.vars.loadState){let s,a=l=>{l&&(i.targets=l),s=t.indexOf(a),~s&&(t.splice(s,1),t.length||e())};t.push(a),i.vars.loadState(a)}}),t.length||e(),this}setState(){return this.actions.forEach(e=>e.targets=e.vars.setState&&e.vars.setState(e)),this}killConflicts(e){return this.state.interrupt(e),this._kill.forEach(t=>t.interrupt(e)),this}run(e,t){return this!==E&&(e||this.getState(t),this.loadState(()=>{this._killed||(this.setState(),this.animate())})),this}clear(e){this.state.clear(),e||(this.actions.length=0)}getStateById(e){let t,i=this.actions.length;for(;i--;)if(t=this.actions[i].getStateById(e),t)return t;return this.state.idLookup[e]&&this.state}kill(){this._killed=1,this.clear(),delete X[this.id]}}class Ce{static getState(e,t){let i=pe(e,t);return L&&L.states.push(i),t&&t.batch&&Ce.batch(t.batch).state.add(i),i}static from(e,t){return"clearProps"in(t=t||{})||(t.clearProps=!0),fe(e,pe(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,-1)}static to(e,t){return fe(e,pe(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,1)}static fromTo(e,t,i){return fe(e,t,i)}static fit(e,t,i){let s=i?U(i,j):{},{absolute:a,scale:l,getVars:n,props:r,runBackwards:o,onComplete:h,simple:p}=i||s,d=i&&i.fitChild&&H(i.fitChild),c=le(t,r,p,e),m=le(e,0,p,c),u=r?A[r]:D;return r&&ne(s,c.props),o&&(Q(m,u),"immediateRender"in s||(s.immediateRender=!0),s.onComplete=function(){ee(m),h&&h.apply(this,arguments)}),a&&ie(m,c),s=he(m,c,l||d,r,d,s.duration||n?s:0),n?s:s.duration?V.to(m.element,s):null}static makeAbsolute(e,t){return(e instanceof be?e:new be(e,t)).makeAbsolute()}static batch(e){return e||(e="default"),X[e]||(X[e]=new Se(e))}static killFlipsOf(e,t){(e instanceof be?e.targets:k(e)).forEach(e=>e&&ye(e._flip,!1!==t?1:2))}static isFlipping(e){let t=Ce.getByTarget(e);return!!t&&t.isActive()}static getByTarget(e){return(H(e)||M)._flip}static getElementState(e,t){return new we(H(e),t)}static convertCoordinates(e,t,i){let s=C(t,!0,!0).multiply(C(e));return i?s.apply(i):s}static register(e){if(B="undefined"!=typeof document&&document.body,B){V=e,d(B),k=V.utils.toArray;let t=V.utils.snap(.1);_=(e,i)=>t(parseFloat(e)+i)}}}Ce.version="3.9.0","undefined"!=typeof window&&window.gsap&&window.gsap.registerPlugin(Ce);export default Ce;export{Ce as Flip};
